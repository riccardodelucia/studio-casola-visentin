---
import Layout from "../layouts/Layout.astro";

import Hero from "../components/Hero.astro";
import AboutUs from "../components/AboutUs.astro";
import Services from "../components/Services.astro";
import Contacts from "../components/Contacts.astro";
---

<Layout title="Sudio Casola Visentin">
  <main>
    <Hero />
    <AboutUs />
    <Services />
    <Contacts />
  </main>
</Layout>

<script>
  let options = {
    root: null,
    rootMargin: "-80px 0px 0px 0px",
    threshold: [0, 0.25, 0.5, 0.75, 1],
  };

  const header = document.getElementById("header");

  const intersectionCallback = (entries) => {
    entries.forEach((entry) => {
      if (!entry.isIntersecting) {
        header?.classList.add("header-blurred");
      } else {
        header?.classList.remove("header-blurred");
      }
    });
  };

  const observer = new IntersectionObserver(intersectionCallback, options);

  const hero = document.querySelector("#hero");

  observer.observe(hero);
</script>
